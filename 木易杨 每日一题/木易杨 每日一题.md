## æ¯æ—¥ä¸€é¢˜

> æ¯å¤©ä¸€é“å¤§å‚å‰ç«¯é¢è¯•é¢˜ï¼Œä¸€å¹´åå†å›å¤´ï¼Œä¼šæ„Ÿè°¢æ›¾ç»åŠªåŠ›çš„è‡ªå·±ï¼
>
> å¾…æ›´æ–°çŠ¶æ€
>
> ä»Šå¤© 2019/9/21  ~ ğŸ’ª



### [ç¬¬ 1 é¢˜](https://github.com/Advanced-Frontend/Daily-Interview-Question/blob/master/datum/summary.md#%E7%AC%AC-1-%E9%A2%98%E5%86%99-react--vue-%E9%A1%B9%E7%9B%AE%E6%97%B6%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9C%A8%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E5%86%99-key%E5%85%B6%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88) ï¼ˆ2019/9/19ï¼‰

**é¢˜ç›®**ï¼šå†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™ keyï¼Œå…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

**å…¬å¸**ï¼šæ»´æ»´ã€é¥¿äº†ä¹ˆ

**éœ€äº†è§£** ï¼švueå’Œreactéƒ½æ˜¯é‡‡ç”¨diffç®—æ³•æ¥å¯¹æ¯”æ–°æ—§è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»è€Œæ›´æ–°èŠ‚ç‚¹ã€‚åœ¨vueçš„diffå‡½æ•°ä¸­ã€‚å¯ä»¥å…ˆäº†è§£ä¸€ä¸‹diffç®—æ³•ã€‚
åœ¨äº¤å‰å¯¹æ¯”çš„æ—¶å€™ï¼Œå½“æ–°èŠ‚ç‚¹è·Ÿæ—§èŠ‚ç‚¹`å¤´å°¾äº¤å‰å¯¹æ¯”`æ²¡æœ‰ç»“æœçš„æ—¶å€™ï¼Œä¼šæ ¹æ®æ–°èŠ‚ç‚¹çš„keyå»å¯¹æ¯”æ—§èŠ‚ç‚¹æ•°ç»„ä¸­çš„keyï¼Œä»è€Œæ‰¾åˆ°ç›¸åº”æ—§èŠ‚ç‚¹ï¼ˆè¿™é‡Œå¯¹åº”çš„æ˜¯ä¸€ä¸ªkey => index çš„mapæ˜ å°„ï¼‰ã€‚å¦‚æœæ²¡æ‰¾åˆ°å°±è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°å¢èŠ‚ç‚¹ã€‚è€Œå¦‚æœæ²¡æœ‰keyï¼Œé‚£ä¹ˆå°±ä¼šé‡‡ç”¨ä¸€ç§éå†æŸ¥æ‰¾çš„æ–¹å¼å»æ‰¾åˆ°å¯¹åº”çš„æ—§èŠ‚ç‚¹ã€‚ä¸€ç§ä¸€ä¸ªmapæ˜ å°„ï¼Œå¦ä¸€ç§æ˜¯éå†æŸ¥æ‰¾ã€‚ç›¸æ¯”è€Œè¨€ã€‚mapæ˜ å°„çš„é€Ÿåº¦æ›´å¿«ã€‚

**ç­”æ¡ˆ**ï¼š 

> keyæ˜¯ç»™æ¯ä¸€ä¸ªvnodeçš„å”¯ä¸€id,å¯ä»¥`ä¾é key`,æ›´`å‡†ç¡®`, æ›´`å¿«`çš„æ‹¿åˆ°oldVnodeä¸­å¯¹åº”çš„vnodeèŠ‚ç‚¹ã€‚
>
> keyçš„ä½œç”¨æ˜¯ä¸ºäº†åœ¨diffç®—æ³•æ‰§è¡Œæ—¶æ›´å¿«çš„æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæé«˜diffé€Ÿåº¦ã€‚

1ã€æ›´å‡†ç¡®

å› ä¸ºå¸¦keyå°±ä¸æ˜¯`å°±åœ°å¤ç”¨`äº†ï¼Œåœ¨sameNodeå‡½æ•° `a.key === b.key`å¯¹æ¯”ä¸­å¯ä»¥é¿å…å°±åœ°å¤ç”¨çš„æƒ…å†µã€‚æ‰€ä»¥ä¼šæ›´åŠ å‡†ç¡®ã€‚

2ã€æ›´å¿«

åˆ©ç”¨keyçš„å”¯ä¸€æ€§ç”Ÿæˆmapå¯¹è±¡æ¥è·å–å¯¹åº”èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼æ›´å¿«ã€‚(è¿™ä¸ªè§‚ç‚¹ï¼Œå°±æ˜¯æˆ‘æœ€åˆçš„é‚£ä¸ªè§‚ç‚¹ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œmapä¼šæ¯”éå†æ›´å¿«ã€‚)



### [ç¬¬ 2 é¢˜](https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/4)ï¼ˆ2019/9/20ï¼‰

**é¢˜ç›®**ï¼š`['1', '2', '3'].map(parseInt)` what & why ?

**ç­”æ¡ˆ** ï¼šç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜ç›®çš„æ—¶å€™ï¼Œè„‘æµ·è·³å‡ºçš„ç­”æ¡ˆæ˜¯ [1, 2, 3]ï¼Œä½†æ˜¯ **çœŸæ­£çš„ç­”æ¡ˆæ˜¯[1, NaN, NaN]**ã€‚

```js
    console.log(parseInt('12'));//12
    console.log(parseInt('08'));//8
    console.log(parseInt('0x16')); //22
    console.log(parseInt('-12')); //-12
    console.log(parseInt('   -12'));//-12
    console.log(parseInt('   -  12'));///NAN
    console.log(parseInt('124ref')); //124
    console.log(parseInt('ref'));   //NAN
```

ä»¥ä¸Šå‡ ä¹å°±æ˜¯`parseInt`å‡½æ•°ä¸€ä¸ªå½¢å¼å‚æ•°æ—¶çš„æ‰€æœ‰æƒ…å†µ

radixå½¢å‚æ²¡æŒ‡å®šçš„æ—¶å€™æ˜¯**10**ï¼Œå…¶æ¬¡ä»–æ˜¯å…·æœ‰æœ‰æ•ˆèŒƒå›´æ»´ï¼š[2, 36]å’Œç‰¹æ®Šå€¼0
ä¸‹é¢æ˜¯è‹±è¯­æ¸£æ¸£çš„æˆ‘ç¿»è¯‘åï¼Œç®€åŒ–çš„`parseInt`æ‰§è¡Œæ­¥éª¤ï¼šï¼ˆECMAScriptåŸè§£æ->[ä¼ é€é—¨](http://www.ecma-international.org/ecma-262/6.0/#sec-parseint-string-radix)ï¼‰

1. å°†ç¬¬ä¸€ä¸ªå½¢å‚è½¬æ¢ä¸ºå­—ç¬¦ä¸²
2. è¯†åˆ«stringè½¬æ¢æ˜¯å¦æœ‰**code unit**ï¼Œå¦‚æœæœ‰ -> `-`æ ‡è®°ä¸ºè´Ÿæ•°ï¼Œ`0x`æˆ–`0X`åˆ™æŠŠradixèµ‹å€¼ä¸º**16**
3. radixå½¢å‚ï¼ˆintç±»å‹ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™é‡æ–°èµ‹å€¼ï¼ˆä¼šå¯¹å®å‚è¿›è¡ŒInt32è½¬åŒ–ï¼Œæ— æ³•è½¬æ¢æˆintç±»å‹åˆ™ä¸ä¼šé‡æ–°èµ‹å€¼radixï¼‰
4. radixä¸º0ï¼Œåˆ™è®¾ç½®radixä¸ºé»˜è®¤å€¼10
5. å¦‚æœradixä¸º1ï¼Œæˆ–è€…å¤§äºç­‰äº37ï¼ŒparseIntç›´æ¥è¿”å›**NaN**
6. å¦‚æœradixä¸º[2, 36]æ—¶åˆ™ä»£è¡¨ï¼Œstringå‚æ•°åˆ†åˆ«æ˜¯äºŒè¿›åˆ¶ï¼Œä¸‰è¿›åˆ¶ï¼ˆå¦‚æœæœ‰å¾—è¯~ï¼‰...ä¸‰åå…­è¿›åˆ¶ç±»å‹
7. ç„¶åå¯¹stringè¿›è¡Œçš„radixè¿›åˆ¶ -> åè¿›åˆ¶è½¬æ¢

ä»¥ä¸Šå°±æ˜¯`parseInt`è½¬æ¢æ—¶çš„æ­¥éª¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥å¼€å§‹è§£é‡Š`['1', '2', '3'].map(parseInt)`
**at first, ç­”æ¡ˆæ˜¯[1, NaN, NaN]**

```js
(function (){
        var ret = ['1', '2', '3'].map((value, index)=>{
            console.log(value, index);
            return parseInt(value, index);
        });
        console.log(ret);
    })();
```

è¿™æ˜¯`['1', '2', '3'].map(parseInt)`å†…éƒ¨æ‰§è¡Œçš„å‰–æï¼Œ`value`å’Œ`index`ç›¸ä¿¡å¤§å®¶éƒ½æ‡‚ï¼Œä¸æ‡‚è¯·è‡ªè¡Œ[MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/map),æ‰§è¡Œæ­¥éª¤ä¸ºï¼š
`value='1',index=0` -> `parseInt(value, index)`
`value='2',index=1` -> `parseInt(value, index)`
`value='3',index=2` -> `parseInt(value, index)`
æŠ½ç¦»å‡ºæ¥ï¼Œå…¶å®å°±æ˜¯

```js
parseInt('1', 0);
parseInt('2', 1);
parseInt('3', 2);
```

`parseInt('3', 2)`è¿™æ˜¯æ ¹æ®äºŒè¿›åˆ¶å¯¹å­—ç¬¦ä¸²`3`è¿›è¡Œåè¿›åˆ¶è½¬æ¢å¯¹å§ï¼ï¼ï¼
exm???æœ‰æ¯›ç—…?æ²¡æ¯›ç—…ï¼Œè€é“ï¼Œå°±æ˜¯......ä½ å®¶äºŒè¿›åˆ¶æœ‰`3`?äºŒè¿›åˆ¶ä¸å°±æ˜¯`0`å’Œ`1`å•Š

å› æ­¤è¿”å›**NaN**ã€‚



### [ç¬¬ 3 é¢˜](https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/5)ï¼ˆ2019/9/21ï¼‰

**é¢˜ç›®**ï¼šä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ

**å…¬å¸** ï¼šæŒ–è´¢

**è§£æ** ï¼š

1ã€**é˜²æŠ–**

> è§¦å‘é«˜é¢‘äº‹ä»¶ånç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´

æ€è·¯ï¼š

> æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½å–æ¶ˆä¹‹å‰çš„å»¶æ—¶è°ƒç”¨æ–¹æ³•

```js
    function debounce(fn,delay) {
        let timeout = null // åˆ›å»ºä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼
        return function () {
            clearTimeout(timeout) // æ¯å½“ç”¨æˆ·è¾“å…¥çš„æ—¶å€™æŠŠå‰ä¸€ä¸ª setTimeout clear æ‰
            timeout = setTimeout(() => { // ç„¶ååˆåˆ›å»ºä¸€ä¸ªæ–°çš„ setTimeout, è¿™æ ·å°±èƒ½ä¿è¯è¾“å…¥å­—ç¬¦åçš„ interval é—´éš”å†…å¦‚æœè¿˜æœ‰å­—ç¬¦è¾“å…¥çš„è¯ï¼Œå°±ä¸ä¼šæ‰§è¡Œ fn å‡½æ•°
                fn.apply(this, arguments)
        }, delay)
        };
    }
    function sayHi() {
        console.log('é˜²æŠ–æˆåŠŸ');
    }

    var inp = document.getElementById('inp')
    inp.addEventListener('input', debounce(sayHi,500)) // é˜²æŠ–
```

æå‡ºé—®é¢˜ï¼šè¯·é—®ï¼Œä¸ºä»€ä¹ˆè¦ fn.apply(this, arguments);è€Œä¸æ˜¯è¿™æ · fn()

è§£ç­”ï¼šåŠ ä¸Š apply ç¡®ä¿ åœ¨ sayHi å‡½æ•°é‡Œçš„ this æŒ‡å‘çš„æ˜¯ inputå¯¹è±¡(ä¸ç„¶å°±æŒ‡å‘ window äº†ï¼Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„)ã€‚
è¿™é‡Œçš„ç®­å¤´å‡½æ•°ä¾æ—§æ˜¯æŒ‡å‘ input å¯¹è±¡ã€‚

![mark](http://static.zxinc520.com/blog/20190921/g4jPyh09vVh7.gif)

2ã€**èŠ‚æµ**

> é«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨nç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡

æ€è·¯ï¼š

> æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰ç­‰å¾…æ‰§è¡Œçš„å»¶æ—¶å‡½æ•°

```js
  function throttle(fn,delay) {
        let canRun = true; // é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®°
        return function () {
            if (!canRun) return; // åœ¨å‡½æ•°å¼€å¤´åˆ¤æ–­æ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueåˆ™return
            canRun = false; // ç«‹å³è®¾ç½®ä¸ºfalse
            setTimeout(() => { // å°†å¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡Œæ”¾åœ¨setTimeoutä¸­
                fn.apply(this, arguments);
            // æœ€ååœ¨setTimeoutæ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸ºtrue(å…³é”®)è¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ã€‚å½“å®šæ—¶å™¨æ²¡æœ‰æ‰§è¡Œçš„æ—¶å€™æ ‡è®°æ°¸è¿œæ˜¯falseï¼Œåœ¨å¼€å¤´è¢«returnæ‰
            canRun = true;
        }, 500);
        };
    }
    function sayHi(e) {
        console.log(e.target.innerWidth, e.target.innerHeight);
    }
    window.addEventListener('resize', throttle(sayHi,500));
```

![mark](http://static.zxinc520.com/blog/20190921/nJbaVeD1wpaz.gif)











